/**
 * Sets `content` to the zero-width space character. This is useful when you want to do
 * something with ::before or ::after, but don't want the content to take up any space,
 * or have to get crafty with hiding that space.
 */
@utility content-zero-width {
  content: var(--zero-width-space);
}

/**
 * Fades + blurs the content behind the element to which this is applied. This is
 * particularly useful as the backdrop for full-attention overlays like dialogs and
 * drawers.
 */
@utility occlude-background {
  transition-property : background-color, backdrop-filter;
  transition-duration : calc(var(--default-transition-duration) * 3);
  backdrop-filter     : blur(var(--blur-xs));
  background-color    : --alpha(var(--color-black) / 60%);

  /**
   * Specifically for those dialogs and drawers, this causes the fade + blur to animate
   * in/out when the immediate child is also animating.
   */
  &:has(> [class*="-enter-from"], > [class*="-leave-active"], > [class*="-leave-to"]) {
    backdrop-filter  : blur(0px);
    background-color : transparent;
  }
}

/**
 * Blends scrollbars in with the color-scheme a bit better than most defaults.
 */
@utility styled-scroll {
  scrollbar-width  : thin;
  scrollbar-color  : color-mix(in srgb-linear, transparent 75%, var(--color-global-foreground-accent)) transparent;
  transition       : scrollbar-color 400ms ease-out;

  &:hover, &:focus-visible, &:focus-within {
    scrollbar-color  : var(--color-global-foreground-accent) transparent;
    transition-delay : 0ms;
  }
}
